generator client {
  provider = "prisma-client-js"
  output   = "./generated/client"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Professor {
  id            Int           @id @default(autoincrement())
  name          String
  nascimento    String
  telefone      String
  email         String
  anoConclusao  String
  bairro        String
  cidade        String
  complemento   String
  curso         String
  estado        String
  genero        String
  instituicao   String
  nivelFormacao String
  numero        String
  rua           String
  disciplina    Disciplinas[]
}

model Disciplinas {
  id             Int       @id @default(autoincrement())
  idProfessor    Int
  nomeDisciplina String
  idCurso        Int
  cursos         Cursos    @relation(fields: [idCurso], references: [id])
  professor      Professor @relation(fields: [idProfessor], references: [id])
}

model Cursos {
  id          Int           @id @default(autoincrement())
  nomeCurso   String
  Disciplinas Disciplinas[]
  Turma       Turma[]
}

model Aluno {
  id               Int                   @id @default(autoincrement())
  nome             String
  nascimento       String
  cpf              String
  rg               String
  escola           String
  periodo          String
  serie            String
  telefone         String
  rendaFamilia     Decimal               @db.Decimal(9, 2)
  bairro           String
  cidade           String
  complemento      String
  mae              String
  numero           String
  pai              String
  phoneMae         String
  phonePai         String
  profMae          String
  profPai          String
  rua              String
  uf               String
  faltaDisciplinar FaltasDisciplinares[]
  Matricula        Matricula[]
}

model FaltasDisciplinares {
  id        Int      @id @default(autoincrement())
  idAluno   Int
  descricao String
  dataFalta DateTime
  aluno     Aluno    @relation(fields: [idAluno], references: [id])
}

model Matricula {
  id         Int      @id @default(autoincrement())
  idAluno    Int
  dataInicio DateTime
  situacao   String
  aluno      Aluno    @relation(fields: [idAluno], references: [id])
}

model Turma {
  id          Int    @id @default(autoincrement())
  idCurso     Int
  nomeTurma   String
  disciplinas Int[]
  curso       Cursos @relation(fields: [idCurso], references: [id])
}

model Chamada {
  id              Int           @id @default(autoincrement())
  idTurma         Int
  idAtividadeSala Int
  presenca        String
  atividadeSala   AtividadeSala @relation(fields: [idAtividadeSala], references: [id])
}

model AtividadeSala {
  id        Int       @id @default(autoincrement())
  descricao String
  Chamada   Chamada[]
}

model AtividadeExtraSala {
  id            Int      @id @default(autoincrement())
  descricao     String
  dataAtividade DateTime
}
